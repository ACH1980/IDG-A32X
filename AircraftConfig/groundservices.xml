<?xml version="1.0" encoding="UTF-8" ?>

<!--
##############################################
# Copyright (c) Joshua Davidson (it0uchpods) #
##############################################
# modified by D-ECHO for Ground Services
-->

<!-- A3XX Ground Services Config Dialog -->

<PropertyList>

	<name>ground-services</name>
	<layout>vbox</layout>
	
	<group>
		<layout>hbox</layout>
		<text>
			<halign>left</halign>
			<label>Ground Services</label>
		</text>
		<button>
			<halign>right</halign>
			<pref-width>20</pref-width>
			<pref-height>20</pref-height>
			<legend>X</legend>
			<key>Esc</key>
			<binding>
				<command>dialog-close</command>
			</binding>
		</button>
	</group>
		
		<vrule/>
		
		<group>
			<layout>vbox</layout>

			<checkbox>
				<label>Enable De-icing Truck</label>
				<halign>left</halign>
				<property>/services/deicing_truck/enable</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>

			<button>
				<legend>De-ice Aircraft</legend>
				<halign>center</halign>
				<padding>5</padding>
				<enable>
					<property>/services/deicing_truck/enable</property>
				</enable>
				<binding>
					<command>property-assign</command>
					<property>/services/deicing_truck/de-ice</property>
					<value>1</value>
				</binding>
			</button>
			
			<checkbox>
				<label>Enable Fuel Truck</label>
				<halign>left</halign>
				<enable>
					<not><property>/services/fuel-truck/connect</property></not>
				</enable>
				<property>/services/fuel-truck/enable</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<checkbox>
				<label>Connect Fuel Truck</label>
				<halign>left</halign>
				<enable>
					<property>/services/fuel-truck/enable</property>
				</enable>
				<property>/services/fuel-truck/connect</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<checkbox>
				<label>Enable Catering Truck</label>
				<halign>left</halign>
				<property>/services/catering/enable</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>

			<button>
				<legend>Toggle Catering</legend>
				<halign>center</halign>
				<padding>5</padding>
				<enable>
					<property>/services/catering/enable</property>
				</enable>
				<binding>
					<condition>
						<less-than>
							<property>/services/catering/position-norm</property>
							<value>0.1</value>
						</less-than>
					</condition><command>property-interpolate</command>
					<property>/services/catering/position-norm</property>
					<value>0.68</value>
					<time>5</time>
				</binding>
				<binding>
					<condition>
						<greater-than-equals>
							<property>/services/catering/position-norm</property>
							<value>0.1</value>
						</greater-than-equals>
					</condition><command>property-interpolate</command>
					<property>/services/catering/position-norm</property>
					<value>0.0</value>
					<time>5</time>
				</binding>
			</button>
			
			<checkbox>
				<label>Enable Baggage Ramp</label>
				<halign>left</halign>
				<property>/services/baggage/enable</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<hrule/>
			
			<text>
				<label>Stairways</label>
			</text>
			
			<checkbox>
				<label>Front Left</label>
				<halign>left</halign>
				<property>/services/stairs/l1</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<checkbox>
				<label>Rear Left</label>
				<halign>left</halign>
				<property>/services/stairs/l4</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<checkbox>
				<label>Stairway cover</label>
				<halign>left</halign>
				<property>/services/stairs/cover</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<hrule/>
			
			<text>
				<label>Wheel chockes</label>
			</text>
			
			<checkbox>
				<label>Nose Gear</label>
				<halign>left</halign>
				<property>/services/chokes/nose</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<checkbox>
				<label>Main Left Gear</label>
				<halign>left</halign>
				<property>/services/chokes/left</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<checkbox>
				<label>Main Right Gear</label>
				<halign>left</halign>
				<property>/services/chokes/right</property>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<hrule/>
			<text>
				<label>Ground Power</label>
			</text>
			
			<checkbox>
				<label>Enable External Power Box</label>
				<halign>left</halign>
				<property>/controls/switches/cart</property>
				<binding>
					<command>property-assign</command>
					<property>/controls/electrical/switches/gen-ext</property>
					<value>0</value>
				</binding>
				<enable>
					<and>
					<equals>
						<property>/controls/gear/brake-parking</property>
						<value>1</value>
					</equals>
					<less-than>
						<property>/velocities/groundspeed-kt</property>
						<value>2</value>
					</less-than>
					</and>
				</enable>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
			<checkbox>
				<label>Enable External Air</label>
				<halign>left</halign>
				<property>/controls/pneumatic/switches/groundair</property>
				<binding>
					<command>property-toggle</command>
					<property>/controls/pneumatic/switches/groundair</property>
				</binding>
				<enable>
					<and>
					<equals>
						<property>/controls/gear/brake-parking</property>
						<value>1</value>
					</equals>
					<less-than>
						<property>/velocities/groundspeed-kt</property>
						<value>2</value>
					</less-than>
					</and>
				</enable>
				<binding>
					<command>dialog-apply</command>
				</binding>
				<live>true</live>
			</checkbox>
			
		</group>
		
	</group>
	
</PropertyList>
